<a id="arabic"></a>
[English ↙](#english)

<div dir="rtl" style="text-align: right">

# Copy Constructors

## مراجعة الدرس السابق

في الدرس السابق تعلمنا:
- **Constructor:** ميمبر فانكشن يتم مناداته عند إنشاء object من الكلاس
- **Default Constructor:** إذا لم تكتبه، الكومبايلر يكتبه عنك
- **Parameterized Constructor:** يأخذ parameters ويجبر المطور على إرسال قيم

## ما هو الـ Copy Constructor؟

اليوم سنتعلم نوعاً جديداً من الـ Constructors وهو **Copy Constructor**.

Copy Constructor يُستخدم لإنشاء object جديد بنسخ object موجود من نفس النوع.

## مثال أساسي 
</div>
<div dir="ltr">

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsAddress
{
private:
    string _addressLine1;
    string _addressLine2;
    string _poBox;
    string _zipCode;

public:
    // Parameterized Constructor
    clsAddress(string line1, string line2, string poBox, string zipCode)
    {
        _addressLine1 = line1;
        _addressLine2 = line2;
        _poBox = poBox;
        _zipCode = zipCode;
    }

    void print()
    {
        cout << "Address Details:" << endl;
        cout << "Line 1: " << _addressLine1 << endl;
        cout << "Line 2: " << _addressLine2 << endl;
        cout << "PO Box: " << _poBox << endl;
        cout << "Zip Code: " << _zipCode << endl;
    }
};

int main()
{
    clsAddress address1("Main Street", "Downtown", "12345", "11564");
    
    // هنا يحدث Copy Constructor تلقائياً
    clsAddress address2 = address1;
    
    address1.print();
    address2.print();  // نفس القيم!
    
    return 0;
}
```
</div>

<div dir="rtl" style="text-align: right">

## كيف يعمل Copy Constructor تلقائياً؟

عندما تكتب:
```cpp
clsAddress address2 = address1;
```

الكومبايلر يقوم بما يلي:
1. ينشئ Copy Constructor تلقائياً (إذا لم تكتبه)
2. ينادي هذا الـ Copy Constructor
3. يمرر `address1` كـ parameter
4. ينسخ جميع القيم من `address1` إلى `address2`

## كتابة Copy Constructor بنفسك
</div>
<div dir="ltr">

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsAddress
{
private:
    string _addressLine1;
    string _addressLine2;
    string _poBox;
    string _zipCode;

public:
    // Parameterized Constructor
    clsAddress(string line1, string line2, string poBox, string zipCode)
    {
        _addressLine1 = line1;
        _addressLine2 = line2;
        _poBox = poBox;
        _zipCode = zipCode;
    }

    // Copy Constructor - مكتوب بيدنا
    clsAddress(const clsAddress& oldObject)
    {
        cout << "Copy Constructor called!" << endl;
        
        // نسخ البيانات من الـ oldObject
        _addressLine1 = oldObject._addressLine1;
        _addressLine2 = oldObject._addressLine2;
        _poBox = oldObject._poBox;
        _zipCode = oldObject._zipCode;
    }

    void print()
    {
        cout << "Address Details:" << endl;
        cout << "Line 1: " << _addressLine1 << endl;
        cout << "Line 2: " << _addressLine2 << endl;
        cout << "PO Box: " << _poBox << endl;
        cout << "Zip Code: " << _zipCode << endl;
        cout << "----------------" << endl;
    }
};

int main()
{
    clsAddress address1("Oak Street", "Business Area", "67890", "22445");
    
    // استدعاء Copy Constructor المخصص
    clsAddress address2 = address1;
    
    address1.print();
    address2.print();
    
    return 0;
}
```
</div>

<div dir="rtl" style="text-align: right">

## قواعد كتابة Copy Constructor

من المحاضرة، هذه هي القواعد المهمة:

### 1. الاسم
- نفس اسم الكلاس تماماً (مثل أي constructor)

### 2. Parameter
- يأخذ parameter واحد فقط
- نوع الـ parameter: `const clsAddress&`
- `const`: لضمان عدم تعديل الـ object الأصلي
- `&`: بالـ reference (مرجع) وليس بالـ value

### 3. المنطق الداخلي
- نسخ كل الـ private members من الـ oldObject
- يمكن إضافة منطق إضافي حسب الحاجة

</div>

<div dir="rtl" style="text-align: right">

## نقطة مهمة 

كما ذكر الأستاذ: **الكومبايلر كان مريحك عن موضوع الـ Copy Constructor**

هذا يعني:
- إذا لم تكتب Copy Constructor، الكومبايلر يكتبه عنك
- في معظم الحالات، Copy Constructor التلقائي كافي
- لكن فهم كيف يعمل مهم جداً للمبرمج

## متى تحتاج Copy Constructor مخصص؟

حسب سياق المحاضرة، قد تحتاجه في حالات خاصة مثل:
- عندما تريد إضافة منطق خاص أثناء النسخ
- عندما تريد رؤية متى يتم استدعاؤه (للتعلم والفهم)
- في حالات أكثر تعقيداً سنتعلمها لاحقاً

## طرق استدعاء Copy Constructor

كما ظهر في الأمثلة، يمكن استدعاؤه بطريقتين:
</div>
<div dir="ltr">

```cpp
// الطريقة الأولى
clsAddress address2 = address1;

// الطريقة الثانية
clsAddress address3(address1);
```
</div>

<div dir="rtl" style="text-align: right">

## فائدة Copy Constructor

الهدف الأساسي:
- **سهولة النسخ:** إنشاء object جديد بنفس قيم object موجود
- **توفير الوقت:** عدم الحاجة لكتابة set functions لكل property
- **الأمان:** ضمان نسخ صحيحة للبيانات

## الخلاصة

Copy Constructor هو:
- ميمبر function يُستدعى عند نسخ object
- يأخذ parameter من نوع `const ClassName&`
- يُنشأ تلقائياً بواسطة الكومبايلر
- يمكن كتابته يدوياً عند الحاجة
- مفيد لفهم آلية عمل C++ بشكل أعمق

**النصيحة:** ابدأ بفهم الآلية، ثم استخدم الـ Copy Constructor التلقائي في معظم الحالات.

</div>

<br><br><br><br><br><br><br><br><br>

<a id="english"></a>
[العربية ↗](#arabic)

# Copy Constructors

## Review of Previous Lesson

In the previous lesson we learned:
- **Constructor:** Member function called when creating an object from a class
- **Default Constructor:** If you don't write it, the compiler writes it for you
- **Parameterized Constructor:** Takes parameters and forces the developer to send values

## What is a Copy Constructor?

Today we'll learn a new type of Constructor: **Copy Constructor**.

Copy Constructor is used to create a new object by copying an existing object of the same type.

## Basic Example 

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsAddress
{
private:
    string _addressLine1;
    string _addressLine2;
    string _poBox;
    string _zipCode;

public:
    // Parameterized Constructor
    clsAddress(string line1, string line2, string poBox, string zipCode)
    {
        _addressLine1 = line1;
        _addressLine2 = line2;
        _poBox = poBox;
        _zipCode = zipCode;
    }

    void print()
    {
        cout << "Address Details:" << endl;
        cout << "Line 1: " << _addressLine1 << endl;
        cout << "Line 2: " << _addressLine2 << endl;
        cout << "PO Box: " << _poBox << endl;
        cout << "Zip Code: " << _zipCode << endl;
    }
};

int main()
{
    clsAddress address1("Main Street", "Downtown", "12345", "11564");
    
    // Copy Constructor happens automatically here
    clsAddress address2 = address1;
    
    address1.print();
    address2.print();  // Same values!
    
    return 0;
}
```

## How Copy Constructor Works Automatically?

When you write:
```cpp
clsAddress address2 = address1;
```

The compiler does the following:
1. Creates Copy Constructor automatically (if you didn't write it)
2. Calls this Copy Constructor
3. Passes `address1` as parameter
4. Copies all values from `address1` to `address2`

## Writing Copy Constructor Yourself

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsAddress
{
private:
    string _addressLine1;
    string _addressLine2;
    string _poBox;
    string _zipCode;

public:
    // Parameterized Constructor
    clsAddress(string line1, string line2, string poBox, string zipCode)
    {
        _addressLine1 = line1;
        _addressLine2 = line2;
        _poBox = poBox;
        _zipCode = zipCode;
    }

    // Copy Constructor - written by us
    clsAddress(const clsAddress& oldObject)
    {
        cout << "Copy Constructor called!" << endl;
        
        // Copy data from oldObject
        _addressLine1 = oldObject._addressLine1;
        _addressLine2 = oldObject._addressLine2;
        _poBox = oldObject._poBox;
        _zipCode = oldObject._zipCode;
    }

    void print()
    {
        cout << "Address Details:" << endl;
        cout << "Line 1: " << _addressLine1 << endl;
        cout << "Line 2: " << _addressLine2 << endl;
        cout << "PO Box: " << _poBox << endl;
        cout << "Zip Code: " << _zipCode << endl;
        cout << "----------------" << endl;
    }
};

int main()
{
    clsAddress address1("Oak Street", "Business Area", "67890", "22445");
    
    // Call custom Copy Constructor
    clsAddress address2 = address1;
    
    address1.print();
    address2.print();
    
    return 0;
}
```

## Rules for Writing Copy Constructor

From the lecture, these are the important rules:

### 1. Name
- Same as class name (like any constructor)

### 2. Parameter
- Takes only one parameter
- Parameter type: `const clsAddress&`
- `const`: ensures original object won't be modified
- `&`: by reference, not by value

### 3. Internal Logic
- Copy all private members from oldObject
- Can add additional logic as needed



## Important Point 

As the professor mentioned: **The compiler was making it easy for you regarding Copy Constructor**

This means:
- If you don't write Copy Constructor, compiler writes it for you
- In most cases, automatic Copy Constructor is sufficient
- But understanding how it works is very important for programmers

## When Do You Need Custom Copy Constructor?

Based on lecture context, you might need it in special cases like:
- When you want to add special logic during copying
- When you want to see when it's called (for learning and understanding)
- In more complex cases we'll learn later

## Ways to Call Copy Constructor

As shown in examples, it can be called in two ways:

```cpp
// First way
clsAddress address2 = address1;

// Second way
clsAddress address3(address1);
```

## Benefits of Copy Constructor

Main purpose:
- **Easy Copying:** Create new object with same values as existing object
- **Time Saving:** No need to write set functions for each property
- **Safety:** Ensure correct copying of data

## Summary

Copy Constructor is:
- Member function called when copying an object
- Takes parameter of type `const ClassName&`
- Created automatically by compiler
- Can be written manually when needed
- Useful for understanding C++ mechanics deeper

**Advice:** Start by understanding the mechanism, then use automatic Copy Constructor in most cases.



<br><br><br>
---
*Anas Chetoui - `anaschetoui`*
