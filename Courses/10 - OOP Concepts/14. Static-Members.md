<a id="arabic"></a>
[English ↙](#english)

<div dir="rtl" style="text-align: right">

# Static Members

## مراجعة الدرس السابق

في الدروس السابقة تعلمنا:
- **Constructor:** يُستدعى عند إنشاء object من الكلاس
- **Destructor:** آخر method يُستدعى قبل تدمير الـ object
- كل object له **data members** منفصلة في الـ memory

## ما هو الـ Static Member؟

تذكر من دورة C++: **Static Variable** داخل الـ function:
- عندما تنتهي الـ function، تُدمر كل الـ variables
- إلا الـ **Static Variables** - تبقى طوال فترة حياة البرنامج

**Static Member** في الـ Classes نفس المفهوم:
- هو **Shared Variable** لكل الـ objects
- يكون على مستوى الـ **Class** وليس على مستوى الـ **Object**

## الفرق بين Regular و Static Members

### Regular Members:
- كل object له نسخة منفصلة
- 10 objects = 10 نسخ من الـ variable في الـ memory

### Static Members:
- نسخة واحدة فقط مشتركة لكل الـ objects
- مليون object = نسخة واحدة فقط في الـ memory

## مثال :
</div>
<div dir="ltr">

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsA 
{
public:
    int var;                // Regular member - كل object له نسخة
    static int counter;     // Static member - نسخة واحدة مشتركة

    // Constructor
    clsA()
    {
        counter++;  // زيادة العداد كلما أُنشئ object جديد
    }

    void Print()
    {
        cout << "\nvar     = " << var << endl;
        cout << "counter = " << counter << endl;
    }
};

// Static variable initialization - خارج الكلاس
int clsA::counter = 0;

int main()
{   
    clsA A1, A2, A3;  // إنشاء 3 objects

    A1.var = 10;
    A2.var = 20;
    A3.var = 30;

    A1.Print();
    A2.Print();
    A3.Print();

    return 0;
}
```
</div>

<div dir="rtl" style="text-align: right">

**النتيجة:**
```
var     = 10
counter = 3

var     = 20
counter = 3

var     = 30
counter = 3
```

**التفسير:**
- كل object له **var** منفصلة (10, 20, 30)
- كل الـ objects تشارك نفس الـ **counter** (3)

## قاعدة مهمة: Static Initialization

**يجب تعريف Static Member خارج الكلاس:**
```cpp
int clsA::counter = 0;  // خارج الكلاس، قبل الـ main
```

**لماذا خارج الكلاس؟**
- Static member هو **global variable** على مستوى الكلاس
- يجب أن يكون معرفاً قبل أي function في البرنامج
- الـ main هو function، لذلك يجب التعريف قبله

## مثال: تعديل Static Member
</div>
<div dir="ltr">

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsA 
{
public:
    int var;
    static int counter;

    clsA()
    {
        counter++;  
    }

    void Print()
    {
        cout << "\nvar     = " << var << endl;
        cout << "counter = " << counter << endl;
    }
};

int clsA::counter = 0;

int main()
{   
    clsA A1, A2, A3;

    A1.var = 10;
    A2.var = 20;
    A3.var = 30;

    cout << "Initial values:" << endl;
    A1.Print();
    A2.Print();
    A3.Print();

    // تعديل Static member من object واحد
    A1.counter = 500;

    cout << "\nAfter changing static member counter in one object:" << endl;
    A1.Print();
    A2.Print();
    A3.Print();

    return 0;
}
```
</div>

<div dir="rtl" style="text-align: right">

**النتيجة:**
```
Initial values:
var     = 10
counter = 3

var     = 20
counter = 3

var     = 30
counter = 3

After changing static member counter in one object:
var     = 10
counter = 500

var     = 20
counter = 500

var     = 30
counter = 500
```

**التفسير:**
- عندما عدلت `A1.counter = 500`
- تغيرت القيمة في **كل الـ objects**
- لأن الـ counter هو **shared variable**

## خصائص Static Members

### 1. مشاركة البيانات
- جميع الـ objects تشارك نفس الـ static member
- تعديل واحد يؤثر على الجميع

### 2. فترة الحياة
- يعيش طوال فترة حياة البرنامج
- لا يُدمر عند تدمير الـ objects

### 3. الوصول
- يمكن الوصول إليه من أي object
- يكون على مستوى الـ class وليس الـ object

## استخدامات عملية للـ Static Members

### 1. عداد Objects
```cpp
static int objectCount;  // عدد الـ objects المُنشأة
```

### 2. إعدادات مشتركة
```cpp
static string companyName;    // اسم الشركة لجميع الموظفين
static double taxRate;        // معدل الضريبة لجميع المنتجات
```

### 3. تتبع الحالة العامة
```cpp
static bool debugMode;        // وضع التصحيح للتطبيق
static int nextID;           // الرقم التالي للتسلسل
```

## مثال عملي: إدارة الموظفين
</div>
<div dir="ltr">

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsEmployee
{
private:
    string _name;
    int _employeeID;

public:
    static int totalEmployees;    // عدد الموظفين الإجمالي
    static string companyName;    // اسم الشركة

    clsEmployee(string name)
    {
        _name = name;
        totalEmployees++;
        _employeeID = totalEmployees;  // رقم تسلسلي تلقائي
    }

    void displayInfo()
    {
        cout << "Company: " << companyName << endl;
        cout << "Employee ID: " << _employeeID << endl;
        cout << "Name: " << _name << endl;
        cout << "Total Employees: " << totalEmployees << endl;
        cout << "----------------" << endl;
    }
};

// Static members initialization
int clsEmployee::totalEmployees = 0;
string clsEmployee::companyName = "ABC Corporation";

int main()
{
    clsEmployee emp1("John Smith");
    clsEmployee emp2("Sarah Johnson");
    clsEmployee emp3("Mike Brown");

    emp1.displayInfo();
    emp2.displayInfo();
    emp3.displayInfo();

    // تغيير اسم الشركة يؤثر على الجميع
    clsEmployee::companyName = "XYZ Industries";
    
    cout << "\nAfter company name change:" << endl;
    emp1.displayInfo();

    return 0;
}
```
</div>

<div dir="rtl" style="text-align: right">

## أخطاء شائعة

### 1. عدم تعريف Static Member خارج الكلاس
```cpp
// خطأ - لا يوجد تعريف خارجي
class clsA {
    static int counter;
};
// النتيجة: Linking Error
```

### 2. محاولة التعريف داخل الـ main
```cpp
int main()
{
    int clsA::counter = 0;  // خطأ - لا يمكن التعريف هنا
}
```

### 3. التعريف المتكرر
```cpp
int clsA::counter = 0;    // صحيح
int clsA::counter = 5;    // خطأ - تعريف متكرر
```

## نصائح مهمة

### 1. استخدم Static Members للبيانات المشتركة
- إعدادات التطبيق
- عدادات عامة
- معلومات مشتركة

### 2. تجنب الإفراط في الاستخدام
- Static members مثل Global variables
- يمكن أن تجعل الكود صعب التتبع
- استخدمها عند الحاجة الفعلية فقط

## الخلاصة

**Static Members** هي:
- **Shared variables** لكل الـ objects في الكلاس
- تعيش طوال فترة حياة البرنامج
- يجب تعريفها خارج الكلاس
- مفيدة للبيانات المشتركة والعدادات

**القواعد المهمة:**
- Static member واحد لكل الـ objects
- التعديل من object واحد يؤثر على الجميع
- يجب التعريف خارج الكلاس قبل الـ main

**الفائدة:** توفير memory وإدارة البيانات المشتركة بكفاءة

</div>

<br><br><br><br><br><br><br><br><br>

<a id="english"></a>
[العربية ↗](#arabic)

# Static Members

## Review of Previous Lesson

In previous lessons we learned:
- **Constructor:** Called when creating an object from a class
- **Destructor:** Last method called before destroying the object
- Each object has separate **data members** in memory

## What is a Static Member?

Remember from C++ course: **Static Variable** inside function:
- When function ends, all variables are destroyed
- Except **Static Variables** - they remain for the entire program lifetime

**Static Member** in Classes is the same concept:
- It's a **Shared Variable** for all objects
- It exists at **Class** level, not **Object** level

## Difference Between Regular and Static Members

### Regular Members:
- Each object has its own separate copy
- 10 objects = 10 copies of the variable in memory

### Static Members:
- Only one copy shared by all objects
- Million objects = only one copy in memory

## Basic Example: 

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsA 
{
public:
    int var;                // Regular member - each object has its own copy
    static int counter;     // Static member - one shared copy

    // Constructor
    clsA()
    {
        counter++;  // Increment counter whenever new object is created
    }

    void Print()
    {
        cout << "\nvar     = " << var << endl;
        cout << "counter = " << counter << endl;
    }
};

// Static variable initialization - outside the class
int clsA::counter = 0;

int main()
{   
    clsA A1, A2, A3;  // Create 3 objects

    A1.var = 10;
    A2.var = 20;
    A3.var = 30;

    A1.Print();
    A2.Print();
    A3.Print();

    return 0;
}
```

**Result:**
```
var     = 10
counter = 3

var     = 20
counter = 3

var     = 30
counter = 3
```

**Explanation:**
- Each object has separate **var** (10, 20, 30)
- All objects share the same **counter** (3)

## Important Rule: Static Initialization

**Static Member must be defined outside the class:**
```cpp
int clsA::counter = 0;  // Outside class, before main
```

**Why outside the class?**
- Static member is a **global variable** at class level
- Must be defined before any function in the program
- main is a function, so definition must be before it

## Example: Modifying Static Member

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsA 
{
public:
    int var;
    static int counter;

    clsA()
    {
        counter++;  
    }

    void Print()
    {
        cout << "\nvar     = " << var << endl;
        cout << "counter = " << counter << endl;
    }
};

int clsA::counter = 0;

int main()
{   
    clsA A1, A2, A3;

    A1.var = 10;
    A2.var = 20;
    A3.var = 30;

    cout << "Initial values:" << endl;
    A1.Print();
    A2.Print();
    A3.Print();

    // Modify static member from one object
    A1.counter = 500;

    cout << "\nAfter changing static member counter in one object:" << endl;
    A1.Print();
    A2.Print();
    A3.Print();

    return 0;
}
```

**Result:**
```
Initial values:
var     = 10
counter = 3

var     = 20
counter = 3

var     = 30
counter = 3

After changing static member counter in one object:
var     = 10
counter = 500

var     = 20
counter = 500

var     = 30
counter = 500
```

**Explanation:**
- When I modified `A1.counter = 500`
- The value changed in **all objects**
- Because counter is a **shared variable**

## Static Members Characteristics

### 1. Data Sharing
- All objects share the same static member
- One modification affects all

### 2. Lifetime
- Lives for the entire program duration
- Not destroyed when objects are destroyed

### 3. Access
- Can be accessed from any object
- Exists at class level, not object level

## Practical Uses of Static Members

### 1. Object Counter
```cpp
static int objectCount;  // Number of created objects
```

### 2. Shared Settings
```cpp
static string companyName;    // Company name for all employees
static double taxRate;        // Tax rate for all products
```

### 3. Global State Tracking
```cpp
static bool debugMode;        // Debug mode for application
static int nextID;           // Next sequential number
```

## Practical Example: Employee Management

```cpp
#include <iostream>
#include <string>
using namespace std;

class clsEmployee
{
private:
    string _name;
    int _employeeID;

public:
    static int totalEmployees;    // Total number of employees
    static string companyName;    // Company name

    clsEmployee(string name)
    {
        _name = name;
        totalEmployees++;
        _employeeID = totalEmployees;  // Automatic sequential ID
    }

    void displayInfo()
    {
        cout << "Company: " << companyName << endl;
        cout << "Employee ID: " << _employeeID << endl;
        cout << "Name: " << _name << endl;
        cout << "Total Employees: " << totalEmployees << endl;
        cout << "----------------" << endl;
    }
};

// Static members initialization
int clsEmployee::totalEmployees = 0;
string clsEmployee::companyName = "ABC Corporation";

int main()
{
    clsEmployee emp1("John Smith");
    clsEmployee emp2("Sarah Johnson");
    clsEmployee emp3("Mike Brown");

    emp1.displayInfo();
    emp2.displayInfo();
    emp3.displayInfo();

    // Changing company name affects everyone
    clsEmployee::companyName = "XYZ Industries";
    
    cout << "\nAfter company name change:" << endl;
    emp1.displayInfo();

    return 0;
}
```

## Common Mistakes

### 1. Not Defining Static Member Outside Class
```cpp
// Error - no external definition
class clsA {
    static int counter;
};
// Result: Linking Error
```

### 2. Trying to Define Inside main
```cpp
int main()
{
    int clsA::counter = 0;  // Error - can't define here
}
```

### 3. Multiple Definitions
```cpp
int clsA::counter = 0;    // Correct
int clsA::counter = 5;    // Error - multiple definition
```

## Important Tips

### 1. Use Static Members for Shared Data
- Application settings
- General counters
- Shared information

### 2. Avoid Overuse
- Static members are like Global variables
- Can make code hard to track
- Use only when actually needed

## Summary

**Static Members** are:
- **Shared variables** for all objects in the class
- Live for the entire program lifetime
- Must be defined outside the class
- Useful for shared data and counters

**Important Rules:**
- One static member for all objects
- Modification from one object affects all
- Must be defined outside class before main

**Benefit:** Save memory and efficiently manage shared data


<br><br><br><br>
----

*Anas Chetoui - `anaschetoui`*
